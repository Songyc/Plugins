<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3, minimum-scale=1.0,user-scalable=no,minimal-ui">
<style>
	body{margin:0 auto;padding:0 auto;}
	.tab-ctrl {position: absolute; right: -29px; top:200px; z-index: 19; width: 356px; height: 344px; left: 50%; margin-left: -178px; margin-bottom: -150px; -webkit-transform-origin: 178px 172px; transform-origin: 178px 172px; background: url(img/wheel1.png) no-repeat; background-size: contain; overflow: hidden;-webkit-transform-origin:50% 50%;}
	.doc{position:relative;overflow:hidden;max-width:640px;margin:0 auto;}
	.m-card{position: absolute; width: 100%; height: 100%; left: 0px; top: 0px; z-index: 3;}
	/*.m-card>div{position: absolute;width: 69%; left: 16%; top: 12%;} */
	.m-card>div{position:absolute;width:100%;height:100%;}

	.tab-ctrl div{width:50px;height:50px;background:red;position:absolute;}
	.block0{top:5px;left:160px;}
	.block1{top:40px;left:60px;}
	.block2{top:140px;left:20px;}
	.block3{top:230px;left:60px;}
	.block4{top:275px;left:150px;}
	.block5{top:230px;left:250px;}
	.block6{top:140px;left:290px;}
	.block7{top:50px;left:260px;}

	</style>
</head>
<body>
<div class="doc">
	<div class="m-card" id="Jflip">
		<div class="person first">
			<img width="100%" height="100%" alt="" src="img/00.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/01.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/02.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/03.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/04.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/05.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/06.jpg" />
		</div>
		<div class="person">
			<img width="100%" height="100%" alt="" src="img/07.jpg" />
		</div>
	</div>
	<div class="tab-ctrl" style="position:relative;" id="Jtab_ctrl">
		<div class="block block0">
			<div class="c">1</div>
		</div>
		<div class="block block1">
			<div class="c">2</div>
		</div>
		<div class="block block2">
			<div class="c">3</div>
		</div>
		<div class="block block3">
			<div class="c">4</div>
		</div>
		<div class="block block4">
			<div class="c">5</div>
		</div>
		<div class="block block5">
			<div class="c">6</div>
		</div>
		<div class="block block6">
			<div class="c">7</div>
		</div>
		<div class="block block7">
			<div class="c">8</div>
		</div>
	</div>
</div>
<script>
	var width = document.documentElement.clientWidth,
		height = document.documentElement.clientHeight,
		oDoc = document.getElementsByClassName("doc")[0];
	oDoc.style.width = width + "px";	
	oDoc.style.height = height +"px";
	document.getElementsByClassName('person')[0].style.zIndex = 1;
</script>

<!-- =================== 转盘控件Dial =================== -->
<script src="js/dial3.js"></script>

<script>
	var arr = 1,
		tar = document.getElementById('Jtab_ctrl'),
		clickTarget = tar.getElementsByClassName('block');
	var myDial = new Dial('#Jtab_ctrl',{
		initAngle: 0,	//开始的旋转角度,缺省值为0。
		eachRotateAngle: 45,	//最初每次的旋转角度,缺省值为45。
		blockNumber: 8,	//旋转分块,缺省值为8。
		blockNumberIndex: true, //是否按照分块的下标,缺省值为true
		origin:"50% 50%", // 旋转中心,缺省值为"50% 50%"。
		transition: "-webkit-transform .3s ease-in", //动画。
		isReverse: false,
		click: true,
		clickTarget: clickTarget,
		onDraw: function () {
			var oJflip = document.getElementById('Jflip'),
				aPerson = oJflip.getElementsByClassName('person'),
				aImg = oJflip.getElementsByTagName('img');
				index = this.curIndex,
				arr += 1;
				console.log(this);
			for(var i = 0, l = aPerson.length; i < l; i++) {
				aPerson[index].style.zIndex = arr;
			}
		}
	});
</script>
</body>
</html>